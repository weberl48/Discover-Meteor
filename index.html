<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Discover-meteor : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Discover-meteor</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/weberl48/Discover-Meteor">View on GitHub</a>

          <h1 id="project_title">Discover-meteor</h1>
          <h2 id="project_tagline"></h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/weberl48/Discover-Meteor/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/weberl48/Discover-Meteor/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="webdev-db" class="anchor" href="#webdev-db" aria-hidden="true"><span class="octicon octicon-link"></span></a>WebDev DB</h1>

<p><a href="http://webdevdb.meteor.com/">http://webdevdb.meteor.com/</a></p>

<p>#Chp 1 Intro</p>

<ul>
<li>code in the /server directory only runs on the server.</li>
<li>code in the /client directory only runs on the client.</li>
<li>Everything else runs on both the client and server</li>
<li>You static assets go in the public directory</li>
<li>Files in /lib are loaded before anything else</li>
<li>any main.* file is loaded after everything else.</li>
<li>everything else loads in alphabetical order based on the file name.</li>
<li>in Meteor, the var keyword limits the scope of an object to the current file.</li>
</ul>

<h1>
<a id="chp-2-getting-started" class="anchor" href="#chp-2-getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Chp 2 Getting Started</h1>

<ul>
<li>no matter where you put your code meteor will find it and compile it</li>
<li>no need to manually write include paths for javascript or css Files</li>
<li> postList attribute used by Meteor to keep track of what template goes where
###Spacebars

<ul>
<li>meteors templating system,</li>
<li>html with addition of inclusions, expressions and block helpers.</li>
<li>inclusion: {{&gt; templateName}}, tells meteor to replace the {{&gt; inclusion}} with the template whos name corresponds.</li>
</ul>
</li>
</ul>

<h3>
<a id="expressions" class="anchor" href="#expressions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Expressions:</h3>

<p>{{title}},call a property of the current object, or the return value of a template helper as defined in the current template's manager</p>

<h3>
<a id="block-helpers" class="anchor" href="#block-helpers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Block Helpers:</h3>

<ul>
<li>tags which control the flow of the template. {{#each }} {{/each}} {{#if}}{{/if}}</li>
</ul>

<h1>
<a id="chp-3-templates" class="anchor" href="#chp-3-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Chp 3 Templates</h1>

<h3>
<a id="template-helpers" class="anchor" href="#template-helpers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Template Helpers:</h3>

<pre><code>- Meteor keeps templates and their logic separated
- in order to come to like a template needs helpers
- prepare raw data
- similar to controllers but have a slightly different role
- while the template's role is limited to displaying or looping over variables, the helpers are the one who actually do the heavy lifting by assigning a value to each variable.
</code></pre>

<ul>
<li>the {{#each}} block helper not only iterates, it also sets the value of "this" inside the block to the iterated object.</li>
</ul>

<h1>
<a id="chp-4-collections" class="anchor" href="#chp-4-collections" aria-hidden="true"><span class="octicon octicon-link"></span></a>Chp 4 Collections</h1>

<h3>
<a id="collection" class="anchor" href="#collection" aria-hidden="true"><span class="octicon octicon-link"></span></a>Collection:</h3>

<pre><code>- core feature of meteor is the automatic synchronisation of data between client and server.
- collection is a special data structure that takes care of storing your data in MongoDB
- synchronising data with each connected user's browser in real time
- place collection in lib directory to make sure they are defined first
</code></pre>

<h3>
<a id="storing-data" class="anchor" href="#storing-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Storing Data:</h3>

<pre><code>- Browser Memory: data local to the current browser tab, not permanent (Javascript Variables)

- Browser Storage: cookies or local storage. local to current user but available across all tabs

- Server-side database: stores permanent data. Available to more than one user
</code></pre>

<h3>
<a id="client--server" class="anchor" href="#client--server" aria-hidden="true"><span class="octicon octicon-link"></span></a>Client &amp; Server:</h3>

<pre><code>- code not place inside client or server folders will run in both contexts.
- collections are available to both client and server
- server side collection has the job of talking to the MongoDB database
- client side collection is a copy of a subset of the real, canonical collection.   
</code></pre>

<h3>
<a id="server-side-collections" class="anchor" href="#server-side-collections" aria-hidden="true"><span class="octicon octicon-link"></span></a>Server-Side Collections:</h3>

<pre><code>- acts as an API into MongoDB
- write Mongo commands like Collection.insert()
</code></pre>

<h3>
<a id="mongo" class="anchor" href="#mongo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mongo:</h3>

<pre><code>- sccess your deployed app's Mongo shell with "meteor mongo myApp".
</code></pre>

<h3>
<a id="client-side-collections" class="anchor" href="#client-side-collections" aria-hidden="true"><span class="octicon octicon-link"></span></a>Client-Side Collections:</h3>

<pre><code>- Posts = new Mongo.Collection('posts') client side is a local, in-browser cache of the real Mongo collection.
- cache is a subset of data for quick access
- documents stored in browser Memory
</code></pre>

<h3>
<a id="minimongo" class="anchor" href="#minimongo" aria-hidden="true"><span class="octicon octicon-link"></span></a>MiniMongo:</h3>

<pre><code>- Meteor's client-side Mongo implementation
</code></pre>

<h3>
<a id="flow" class="anchor" href="#flow" aria-hidden="true"><span class="octicon octicon-link"></span></a>Flow:</h3>

<pre><code>server-side collection was informed by a client collection of a new post, and took on the task of distributing that post into the Mongo database and back out to all the other connected post collections.
</code></pre>

<h3>
<a id="find--fetch" class="anchor" href="#find--fetch" aria-hidden="true"><span class="octicon octicon-link"></span></a>Find &amp; Fetch:</h3>

<pre><code>- find() returns a cursor, which is a reactive data source.
- use fetch() on that cursor to transform it into an array .
</code></pre>

<h3>
<a id="connecting-collections-publications-and-subscriptions" class="anchor" href="#connecting-collections-publications-and-subscriptions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Connecting Collections: Publications and Subscriptions</h3>

<pre><code>- autopublish package not intended for production applications
- autopublish says that each collection should be shared in its entirety to each connected client.
- "meteor remove autopublish"
</code></pre>

<h1>
<a id="chp-5-publications-and-subscriptions" class="anchor" href="#chp-5-publications-and-subscriptions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Chp 5 Publications and Subscriptions</h1>

<p>Publications and subscriptions are one of the most fundamental and important concepts in Meteor</p>

<h2>
<a id="magic" class="anchor" href="#magic" aria-hidden="true"><span class="octicon octicon-link"></span></a>Magic</h2>

<ul>
<li>Misunderstandings:

<ul>
<li>Meteor is insecure</li>
<li>Meteor apps can't deal with large amounts of data</li>
</ul>
</li>
<li>magic is ultimately very useful, it can obscure
-
###The Olden Days (2011)
####Rails Example:

<ul>
<li>browser sends a request to your app, which is living on the server</li>
<li>app's first job is to figure out what data the user needs to see (bookstore clerk)</li>
<li>app's second job is translating that data into nice, human-readable HTML or JSON (wrapping the book and putting it in a nice bag) View part of MVC</li>
<li>app takes that HTML code and sends it over to the browser
#### Meteor way</li>
<li>Rails app only lives on the server, a Meteor app also includes a client-side component that will run on the client(MiniMongo)</li>
<li>allows meteor to make database calls from everywhere.</li>
<li>instead of sending HTML code to the client, Meteor will send that actual data (data on the wire)</li>
<li>access and even modify that data instantaneously
###Publishing</li>
</ul>
</li>
<li>a way of telling Meteor which subset of data can be sent to the client</li>
<li>a funnel that transfers data from a server-side (source) collection to a client-side (target) collection.</li>
<li>protocol used DDP (Distributed Data Protocol).
###Subscribing</li>
<li>a way for clients to specify which subset of that data they need at any particular moment</li>
<li>subscribed data will be mirrored on the client via MiniMongo
###autopublish</li>
<li>by default autopublish package enabled</li>
<li>mirroring all data from the server on the client</li>
<li>Data is ubiquitous</li>
<li>
<p>not for production use</p>

<h3>
<a id="magic-1" class="anchor" href="#magic-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Magic</h3>

<ul>
<li>publishCursor() if you return a cursor (i.e. Posts.find({'author':'Tom'})) in a publish function</li>
</ul>

<p>publishCursor() does:</p>
</li>
<li><p>It checks the name of the server-side collection.</p></li>
<li><p>It pulls all matching documents from the cursor and sends it into a client-side collection of the same name. (It uses .added() to do this).</p></li>
<li><p>Whenever a document is added, removed or changed, it sends those changes down to the client-side collection. (It uses .observe() on the cursor and .added(), .changed() and removed() to do this).</p></li>
</ul>

<h1>
<a id="chp6-routing" class="anchor" href="#chp6-routing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Chp6 Routing</h1>

<ul>
<li>
<a href="http://myapp.com/posts/xyz">http://myapp.com/posts/xyz</a> (where xyz is a MongoDB id identifier)</li>
<li>routing to look at what's inside the browser's URL bar and display the right content accordingly.</li>
</ul>

<h3>
<a id="iron-router-package" class="anchor" href="#iron-router-package" aria-hidden="true"><span class="octicon octicon-link"></span></a>Iron Router package</h3>

<ul>
<li>conceived specifically for Meteor apps</li>
<li>sets up paths and filters( actions to paths)</li>
<li>manage subscriptions ( which path has access to data)</li>
<li>"meteor add iron:router"
### Vocabulary</li>
<li>Routes: set of instructions that tell the app where to go and what to do.</li>
<li>Paths: URL within your app, can include query parameters</li>
<li>Segments: different parts of a path, deliminator(/)</li>
<li>Hooks: actions to perform before, after or during the routing process(checking if the user has the proper rights before displaying a page)</li>
<li>Filters: hooks that you define globally for one or more routes.</li>
<li>Route Templates: Each route needs to point to a template.</li>
<li>Layouts: contain all the HTML code that wraps the current template,</li>
<li>Controllers: contain all the common routing logic.</li>
</ul>

<h3>
<a id="mapping-urls-to-templates" class="anchor" href="#mapping-urls-to-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mapping URLs To Templates</h3>

<ul>
<li>iron router take over what renders inside the  tag</li>
<li>{{&gt; yield}}

<ul>
<li>dynamic zone that will automatically render whichever template corresponds to the current route</li>
</ul>
</li>
</ul>

<h3>
<a id="named-routes" class="anchor" href="#named-routes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Named Routes</h3>

<ul>
<li>by default Iron Router will look for a template with the same name as the route name</li>
<li>will infer name from path</li>
<li>Naming routes lets us use Iron Router features for building links inside app</li>
<li>{{pathFor}} Spacebars helper returns the URL path component of any route</li>
<li><a href="%7B%7BpathFor%20'postsList'%7D%7D">PostList</a></li>
</ul>

<h3>
<a id="magic-2" class="anchor" href="#magic-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Magic</h3>

<ul>
<li>Iron Router comes with a built-in way to delay showing a template until the route calling it is ready, and show a loading template instead

<ul>
<li>Router.configure({
layoutTemplate: 'layout',
loadingTemplate: 'loading',
waitOn: function() { return Meteor.subscribe('posts'); }
});</li>
<li>wait on the subscription. prevents page from loading until subscription is ready</li>
</ul>
</li>
</ul>

<ul>
<li><p>spin package: animated loading spinner {{&gt;spinner}}</p></li>
<li>
<p>wait on your subscriptions, not just for the user experience, but also because it means you can safely assume that data will always be available from within a template.</p>

<h3>
<a id="magic-3" class="anchor" href="#magic-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Magic</h3>
</li>
<li>Reactivity: how does the router know when to redirect the user back to the right page once the data comes through?</li>
</ul>

<h3>
<a id="routing-to-a-specific-path" class="anchor" href="#routing-to-a-specific-path" aria-hidden="true"><span class="octicon octicon-link"></span></a>Routing to A Specific Path</h3>

<ul>
<li>:id syntax tells the router to match any route of the form /posts/xyz/</li>
<li>Second, to put whatever it finds in this “xyz” spot inside an id property in the router's params array.
### Data context</li>
<li>By setting a template's data context, you can control the value of "this" inside template helpers.</li>
<li>{{#with}} take this object, and apply the following template to it

<ul>
<li>{{#with myWidget}}
{{&gt; widgetPage}}
{{/with}}</li>
</ul>
</li>
</ul>

<h3>
<a id="html5-pushstate" class="anchor" href="#html5-pushstate" aria-hidden="true"><span class="octicon octicon-link"></span></a>HTML5 pushState</h3>

<ul>
<li>URL changes are happening using HTML5 pushState.</li>
<li>Router picks up clicks on URLs that are internal to the site, and prevents the browser from browsing away from the app, instead just making the necessary changes to the app's state.</li>
</ul>

<h3>
<a id="post-not-found" class="anchor" href="#post-not-found" aria-hidden="true"><span class="octicon octicon-link"></span></a>Post Not Found</h3>

<ul>
<li>when someone enters a wrong url Iron Router takes care of this for us through the notFoundTemplate option.</li>
<li>set up a new template to show a simple 404 error message</li>
<li>Router.configure({
layoutTemplate: 'layout',
loadingTemplate: 'loading',
notFoundTemplate: 'notFound',
waitOn: function() { return Meteor.subscribe('posts'); }
});
#Chp 7 Adding Users
###Accounts: users made simple</li>
<li>Thanks to the way Meteor packages can contribute code on both the server (JavaScript) and client (JavaScript, HTML, and CSS) side, we can get an accounts system almost for free</li>
<li>ian:accounts-ui-bootstrap-3, meteor add accounts-password

<ul>
<li>Those two commands make the special accounts templates avaliable</li>
</ul>

<h2>
<a id="---loginbuttons-alignright" class="anchor" href="#---loginbuttons-alignright" aria-hidden="true"><span class="octicon octicon-link"></span></a>- {{&gt; loginButtons align="right"}}</h2>

<h1>
<a id="chp-8-creating-posts" class="anchor" href="#chp-8-creating-posts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Chp 8 Creating Posts</h1>
</li>
</ul>

<h1>
<a id="chp-9-editing-posts" class="anchor" href="#chp-9-editing-posts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Chp 9 Editing Posts</h1>

<h1>
<a id="chp-10-errors" class="anchor" href="#chp-10-errors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Chp 10 Errors</h1>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Discover-meteor maintained by <a href="https://github.com/weberl48">weberl48</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
